@using personal_blog.core.Models

<MudTable @ref="_table" 
          ServerData="new Func<TableState, CancellationToken, Task<TableData<Category>>>(ServerReload)" 
          Dense="true">
    <ToolBarContent>
        <MudText Typo="Typo.h5" Class="ma-5">Categories</MudText>
        <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="() => OpenForm() ">
            Create
        </MudButton>
        <MudSpacer/>
        <SearchBar @bind-SearchQuery="SearchString"/>
    </ToolBarContent>
    <HeaderContent>
        <MudTh Class="pa-5">Id</MudTh>
        <MudTh>Title</MudTh>
        <MudTh>Slug</MudTh>
        <MudTh></MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Id">@context.Id</MudTd>   
        <MudTd DataLabel="Title">@context.Title</MudTd>   
        <MudTd DataLabel="Slug">@context.Slug</MudTd>   
        <MudTd DataLabel=""  Class="d-flex justify-center">
            <MudButton Variant="Variant.Filled" Color="Color.Primary" Size="Size.Medium" Class="ma-1"
                       OnClick="()=> OpenForm(context.Id)">
                Edit
            </MudButton>
            <MudButton Variant="Variant.Filled" Color="Color.Primary" Size="Size.Medium" Class="ma-1"
                       OnClick="()=> DeleteCategory(context.Id)">
                Delete
            </MudButton>
        </MudTd>
    </RowTemplate>
    <PagerContent>
        <MudTablePager/>
    </PagerContent>
</MudTable>   

@code {
    
}